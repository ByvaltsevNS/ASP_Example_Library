% ---ЗАДАЧА О РАССТАНОВКЕ ФЕРЗЕЙ: КЛАССИЧЕСКИЙ ВАРИАНТ---
% Дано: шахматная доска размером NxN и N ферзей
% Цель: расставить ферзей на доске таким образом,
% чтобы они не били друг друга

% Размер доски и кол-во ферзей
#const n = 8.

%Возможные расстановки ферзей 
{ queen(I,1..n) } == 1 :- I = 1..n.
{ queen(1..n,J) } == 1 :- J = 1..n.

%Кол-во ответов равно n
:- not n { queen(I,J) } n.

%Решением не является, если ферзи:
%на одной вертикали или горизонтали 
:- queen(I,J), queen(I,JJ), J != JJ.
:- queen(I,J), queen(II,J), I != II.

%на одной диагонали
:- queen(I,J), queen(II,JJ), (I,J) != (II,JJ), I-J == II-JJ.
:- queen(I,J), queen(II,JJ), (I,J) != (II,JJ), I+J == II+JJ.

 #show queen/2.